{;; Source paths for ClojureScript files
 :source-paths ["src/cljs" "env/dev/cljs" "env/prod/cljs"]

 ;; Dependencies managed by Shadow CLJS
 ;; Note: core.async is provided by Shadow CLJS itself
 :dependencies [[org.babashka/sci "0.10.49"]
                [reagent/reagent "2.0.1"]
                [metosin/reitit-frontend "0.7.2"]]

 ;; Built-in development HTTP server
 :dev-http {8080 "resources/public"}

 :builds
 {:app
  {:target :browser
   :output-dir "resources/public/js"
   :asset-path "/js"
   :js-options {:resolve {"process" {:target :npm :require "process/browser"}}}
   :modules {:app {:init-fn motion.dev/init
                   :entries [motion.dev]}}
   :devtools {:after-load motion.dev/reload
              :preloads []}
   :dev {:compiler-options {:closure-defines {}}}}

  :release
  {:target :browser
   :output-dir "docs/js"
   :asset-path "./js"
   :js-options {:resolve {"process" {:target :npm :require "process/browser"}}}
   :modules {:app {:init-fn motion.prod/init
                   :entries [motion.prod]}}
   :compiler-options {:optimizations :advanced
                      :infer-externs :auto
                      :static-fns true
                      :elide-asserts true
                      :pretty-print false}
   :build-options {:manifest-name "manifest.json"}}}}


